{
  "id": "dda0d7c5-932a-4c8e-aa47-5f93267d64c6",
  "prevId": "82c4c37c-d840-4deb-860e-3bbd32b13f7a",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.badges": {
      "name": "badges",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition_type": {
          "name": "condition_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "condition_value": {
          "name": "condition_value",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "badges_select_public": {
          "name": "badges_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "badges_admin_all": {
          "name": "badges_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.bookmarks": {
      "name": "bookmarks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "temple_id": {
          "name": "temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "bookmarks_user_id_users_id_fk": {
          "name": "bookmarks_user_id_users_id_fk",
          "tableFrom": "bookmarks",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "bookmarks_temple_id_temples_id_fk": {
          "name": "bookmarks_temple_id_temples_id_fk",
          "tableFrom": "bookmarks",
          "tableTo": "temples",
          "columnsFrom": ["temple_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "bookmarks_select_public": {
          "name": "bookmarks_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "bookmarks_insert_own": {
          "name": "bookmarks_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "user_id = (select auth.uid())"
        },
        "bookmarks_delete_own": {
          "name": "bookmarks_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())"
        },
        "bookmarks_admin_all": {
          "name": "bookmarks_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.comments": {
      "name": "comments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "parent_comment_id": {
          "name": "parent_comment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "comments_user_id_users_id_fk": {
          "name": "comments_user_id_users_id_fk",
          "tableFrom": "comments",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "comments_select_public": {
          "name": "comments_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "comments_insert_own": {
          "name": "comments_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "user_id = (select auth.uid())"
        },
        "comments_update_own": {
          "name": "comments_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())",
          "withCheck": "user_id = (select auth.uid())"
        },
        "comments_delete_own": {
          "name": "comments_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())"
        },
        "comments_admin_all": {
          "name": "comments_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.follows": {
      "name": "follows",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "follower_id": {
          "name": "follower_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "follows_follower_id_users_id_fk": {
          "name": "follows_follower_id_users_id_fk",
          "tableFrom": "follows",
          "tableTo": "users",
          "columnsFrom": ["follower_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "follows_select_public": {
          "name": "follows_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "follows_insert_own": {
          "name": "follows_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "follower_id = (select auth.uid())"
        },
        "follows_delete_own": {
          "name": "follows_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "follower_id = (select auth.uid())"
        },
        "follows_admin_all": {
          "name": "follows_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.likes": {
      "name": "likes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "likes_user_id_users_id_fk": {
          "name": "likes_user_id_users_id_fk",
          "tableFrom": "likes",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "likes_select_public": {
          "name": "likes_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "likes_insert_own": {
          "name": "likes_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "user_id = (select auth.uid())"
        },
        "likes_delete_own": {
          "name": "likes_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())"
        },
        "likes_admin_all": {
          "name": "likes_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.pilgrimage_impressions": {
      "name": "pilgrimage_impressions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "route_id": {
          "name": "route_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pilgrimage_impressions_user_id_users_id_fk": {
          "name": "pilgrimage_impressions_user_id_users_id_fk",
          "tableFrom": "pilgrimage_impressions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "pilgrimage_impressions_route_id_pilgrimage_routes_id_fk": {
          "name": "pilgrimage_impressions_route_id_pilgrimage_routes_id_fk",
          "tableFrom": "pilgrimage_impressions",
          "tableTo": "pilgrimage_routes",
          "columnsFrom": ["route_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "pilgrimage_impressions_select_public": {
          "name": "pilgrimage_impressions_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "pilgrimage_impressions_insert_own": {
          "name": "pilgrimage_impressions_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "user_id = (select auth.uid())"
        },
        "pilgrimage_impressions_update_own": {
          "name": "pilgrimage_impressions_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())",
          "withCheck": "user_id = (select auth.uid())"
        },
        "pilgrimage_impressions_delete_own": {
          "name": "pilgrimage_impressions_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())"
        },
        "pilgrimage_impressions_admin_all": {
          "name": "pilgrimage_impressions_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.pilgrimage_routes": {
      "name": "pilgrimage_routes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "creator_id": {
          "name": "creator_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "alias": {
          "name": "alias",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "area": {
          "name": "area",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "type_tag": {
          "name": "type_tag",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "religion": {
          "name": "religion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "blessing_tags": {
          "name": "blessing_tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "pilgrimage_routes_creator_id_users_id_fk": {
          "name": "pilgrimage_routes_creator_id_users_id_fk",
          "tableFrom": "pilgrimage_routes",
          "tableTo": "users",
          "columnsFrom": ["creator_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "pilgrimage_routes_select_public": {
          "name": "pilgrimage_routes_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "is_public = true"
        },
        "pilgrimage_routes_select_own": {
          "name": "pilgrimage_routes_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "creator_id = (select auth.uid())"
        },
        "pilgrimage_routes_insert_own": {
          "name": "pilgrimage_routes_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "creator_id = (select auth.uid()) AND type = 'ユーザー'"
        },
        "pilgrimage_routes_update_own": {
          "name": "pilgrimage_routes_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "creator_id = (select auth.uid())",
          "withCheck": "creator_id = (select auth.uid())"
        },
        "pilgrimage_routes_delete_own": {
          "name": "pilgrimage_routes_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "creator_id = (select auth.uid())"
        },
        "pilgrimage_routes_admin_all": {
          "name": "pilgrimage_routes_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.reports": {
      "name": "reports",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "reporter_id": {
          "name": "reporter_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_type": {
          "name": "target_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "target_id": {
          "name": "target_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'未対応'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "reports_reporter_id_users_id_fk": {
          "name": "reports_reporter_id_users_id_fk",
          "tableFrom": "reports",
          "tableTo": "users",
          "columnsFrom": ["reporter_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "reports_select_own": {
          "name": "reports_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "reporter_id = (select auth.uid())"
        },
        "reports_insert_own": {
          "name": "reports_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "reporter_id = (select auth.uid())"
        },
        "reports_admin_all": {
          "name": "reports_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.route_temples": {
      "name": "route_temples",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "route_id": {
          "name": "route_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "temple_id": {
          "name": "temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {
        "route_temples_route_id_pilgrimage_routes_id_fk": {
          "name": "route_temples_route_id_pilgrimage_routes_id_fk",
          "tableFrom": "route_temples",
          "tableTo": "pilgrimage_routes",
          "columnsFrom": ["route_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "route_temples_temple_id_temples_id_fk": {
          "name": "route_temples_temple_id_temples_id_fk",
          "tableFrom": "route_temples",
          "tableTo": "temples",
          "columnsFrom": ["temple_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "route_temples_select_public": {
          "name": "route_temples_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "EXISTS (SELECT 1 FROM pilgrimage_routes WHERE id = route_id AND is_public = true)"
        },
        "route_temples_select_own": {
          "name": "route_temples_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "EXISTS (SELECT 1 FROM pilgrimage_routes WHERE id = route_id AND creator_id = (select auth.uid()))"
        },
        "route_temples_insert_own": {
          "name": "route_temples_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "EXISTS (SELECT 1 FROM pilgrimage_routes WHERE id = route_id AND creator_id = (select auth.uid()))"
        },
        "route_temples_update_own": {
          "name": "route_temples_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "EXISTS (SELECT 1 FROM pilgrimage_routes WHERE id = route_id AND creator_id = (select auth.uid()))",
          "withCheck": "EXISTS (SELECT 1 FROM pilgrimage_routes WHERE id = route_id AND creator_id = (select auth.uid()))"
        },
        "route_temples_delete_own": {
          "name": "route_temples_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "EXISTS (SELECT 1 FROM pilgrimage_routes WHERE id = route_id AND creator_id = (select auth.uid()))"
        },
        "route_temples_admin_all": {
          "name": "route_temples_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.temple_aliases": {
      "name": "temple_aliases",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "temple_id": {
          "name": "temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "alias_name": {
          "name": "alias_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "temple_aliases_temple_id_temples_id_fk": {
          "name": "temple_aliases_temple_id_temples_id_fk",
          "tableFrom": "temple_aliases",
          "tableTo": "temples",
          "columnsFrom": ["temple_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "temple_aliases_select_public": {
          "name": "temple_aliases_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "temple_aliases_insert_official": {
          "name": "temple_aliases_insert_official",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "is_temple_official(temple_id)"
        },
        "temple_aliases_update_official": {
          "name": "temple_aliases_update_official",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "is_temple_official(temple_id)",
          "withCheck": "is_temple_official(temple_id)"
        },
        "temple_aliases_delete_official": {
          "name": "temple_aliases_delete_official",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "is_temple_official(temple_id)"
        },
        "temple_aliases_admin_all": {
          "name": "temple_aliases_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.temple_edit_requests": {
      "name": "temple_edit_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "temple_id": {
          "name": "temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "requester_id": {
          "name": "requester_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "field_name": {
          "name": "field_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "new_value": {
          "name": "new_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'未対応'"
        },
        "requested_at": {
          "name": "requested_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "temple_edit_requests_temple_id_temples_id_fk": {
          "name": "temple_edit_requests_temple_id_temples_id_fk",
          "tableFrom": "temple_edit_requests",
          "tableTo": "temples",
          "columnsFrom": ["temple_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "temple_edit_requests_requester_id_users_id_fk": {
          "name": "temple_edit_requests_requester_id_users_id_fk",
          "tableFrom": "temple_edit_requests",
          "tableTo": "users",
          "columnsFrom": ["requester_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "temple_edit_requests_select_requester": {
          "name": "temple_edit_requests_select_requester",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "requester_id = (select auth.uid())"
        },
        "temple_edit_requests_select_official": {
          "name": "temple_edit_requests_select_official",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "is_temple_official(temple_id)"
        },
        "temple_edit_requests_insert_own": {
          "name": "temple_edit_requests_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "requester_id = (select auth.uid())"
        },
        "temple_edit_requests_update_official": {
          "name": "temple_edit_requests_update_official",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "is_temple_official(temple_id)",
          "withCheck": "is_temple_official(temple_id)"
        },
        "temple_edit_requests_delete_own": {
          "name": "temple_edit_requests_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "requester_id = (select auth.uid())"
        },
        "temple_edit_requests_admin_all": {
          "name": "temple_edit_requests_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.temple_facilities": {
      "name": "temple_facilities",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "temple_id": {
          "name": "temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "visiting_hours": {
          "name": "visiting_hours",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "admission_fee": {
          "name": "admission_fee",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "parking_info": {
          "name": "parking_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_info": {
          "name": "access_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prayer_info": {
          "name": "prayer_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "goshuin_info": {
          "name": "goshuin_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cashless_info": {
          "name": "cashless_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "toilet_info": {
          "name": "toilet_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "barrier_free_info": {
          "name": "barrier_free_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "shukubo_info": {
          "name": "shukubo_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "charms_info": {
          "name": "charms_info",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "temple_facilities_temple_id_temples_id_fk": {
          "name": "temple_facilities_temple_id_temples_id_fk",
          "tableFrom": "temple_facilities",
          "tableTo": "temples",
          "columnsFrom": ["temple_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "temple_facilities_temple_id_unique": {
          "name": "temple_facilities_temple_id_unique",
          "nullsNotDistinct": false,
          "columns": ["temple_id"]
        }
      },
      "policies": {
        "temple_facilities_select_public": {
          "name": "temple_facilities_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "temple_facilities_insert_official": {
          "name": "temple_facilities_insert_official",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "is_temple_official(temple_id)"
        },
        "temple_facilities_update_official": {
          "name": "temple_facilities_update_official",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "is_temple_official(temple_id)",
          "withCheck": "is_temple_official(temple_id)"
        },
        "temple_facilities_delete_official": {
          "name": "temple_facilities_delete_official",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "is_temple_official(temple_id)"
        },
        "temple_facilities_admin_all": {
          "name": "temple_facilities_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.temple_news": {
      "name": "temple_news",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "temple_id": {
          "name": "temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category_tag": {
          "name": "category_tag",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "temple_news_temple_id_temples_id_fk": {
          "name": "temple_news_temple_id_temples_id_fk",
          "tableFrom": "temple_news",
          "tableTo": "temples",
          "columnsFrom": ["temple_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "temple_news_select_public": {
          "name": "temple_news_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "temple_news_insert_official": {
          "name": "temple_news_insert_official",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "is_temple_official(temple_id)"
        },
        "temple_news_update_official": {
          "name": "temple_news_update_official",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "is_temple_official(temple_id)",
          "withCheck": "is_temple_official(temple_id)"
        },
        "temple_news_delete_official": {
          "name": "temple_news_delete_official",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "is_temple_official(temple_id)"
        },
        "temple_news_admin_all": {
          "name": "temple_news_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.temple_officials": {
      "name": "temple_officials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "temple_id": {
          "name": "temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "official_request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "applicant_name": {
          "name": "applicant_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "contact_info": {
          "name": "contact_info",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "registry_image_url": {
          "name": "registry_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "temple_officials_user_id_users_id_fk": {
          "name": "temple_officials_user_id_users_id_fk",
          "tableFrom": "temple_officials",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "temple_officials_temple_id_temples_id_fk": {
          "name": "temple_officials_temple_id_temples_id_fk",
          "tableFrom": "temple_officials",
          "tableTo": "temples",
          "columnsFrom": ["temple_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "temple_officials_select_own": {
          "name": "temple_officials_select_own",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())"
        },
        "temple_officials_insert_own": {
          "name": "temple_officials_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "user_id = (select auth.uid())"
        },
        "temple_officials_update_pending": {
          "name": "temple_officials_update_pending",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid()) AND status = 'pending'",
          "withCheck": "user_id = (select auth.uid()) AND status = 'pending'"
        },
        "temple_officials_admin_all": {
          "name": "temple_officials_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.temples": {
      "name": "temples",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "religion": {
          "name": "religion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sect": {
          "name": "sect",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "map_url": {
          "name": "map_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "history": {
          "name": "history",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "area": {
          "name": "area",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_province": {
          "name": "old_province",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "has_cultural_property": {
          "name": "has_cultural_property",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "blessing_tags": {
          "name": "blessing_tags",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "deity": {
          "name": "deity",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_locked": {
          "name": "is_locked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "temples_select_public": {
          "name": "temples_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "temples_update_official": {
          "name": "temples_update_official",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "is_temple_official(id)",
          "withCheck": "is_temple_official(id)"
        },
        "temples_admin_all": {
          "name": "temples_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.user_badges": {
      "name": "user_badges",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "badge_id": {
          "name": "badge_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "awarded_at": {
          "name": "awarded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_badges_user_id_users_id_fk": {
          "name": "user_badges_user_id_users_id_fk",
          "tableFrom": "user_badges",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_badges_badge_id_badges_id_fk": {
          "name": "user_badges_badge_id_badges_id_fk",
          "tableFrom": "user_badges",
          "tableTo": "badges",
          "columnsFrom": ["badge_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "user_badges_select_public": {
          "name": "user_badges_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "user_badges_admin_all": {
          "name": "user_badges_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.user_pilgrimages": {
      "name": "user_pilgrimages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "route_id": {
          "name": "route_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_pilgrimages_user_id_users_id_fk": {
          "name": "user_pilgrimages_user_id_users_id_fk",
          "tableFrom": "user_pilgrimages",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_pilgrimages_route_id_pilgrimage_routes_id_fk": {
          "name": "user_pilgrimages_route_id_pilgrimage_routes_id_fk",
          "tableFrom": "user_pilgrimages",
          "tableTo": "pilgrimage_routes",
          "columnsFrom": ["route_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "user_pilgrimages_select_public": {
          "name": "user_pilgrimages_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "user_pilgrimages_insert_own": {
          "name": "user_pilgrimages_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "user_id = (select auth.uid())"
        },
        "user_pilgrimages_update_own": {
          "name": "user_pilgrimages_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())",
          "withCheck": "user_id = (select auth.uid())"
        },
        "user_pilgrimages_delete_own": {
          "name": "user_pilgrimages_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())"
        },
        "user_pilgrimages_admin_all": {
          "name": "user_pilgrimages_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_id": {
          "name": "display_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "profile_image": {
          "name": "profile_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "age": {
          "name": "age",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "favorite_temple_id": {
          "name": "favorite_temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "main_route_id": {
          "name": "main_route_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": ["email"]
        },
        "users_display_id_unique": {
          "name": "users_display_id_unique",
          "nullsNotDistinct": false,
          "columns": ["display_id"]
        }
      },
      "policies": {
        "users_select_public": {
          "name": "users_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "users_insert_self": {
          "name": "users_insert_self",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "id = (select auth.uid())"
        },
        "users_update_self": {
          "name": "users_update_self",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "id = (select auth.uid())",
          "withCheck": "id = (select auth.uid())"
        },
        "users_admin_all": {
          "name": "users_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.visit_histories": {
      "name": "visit_histories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "temple_id": {
          "name": "temple_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visit_date": {
          "name": "visit_date",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "is_goshuin": {
          "name": "is_goshuin",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "visit_histories_user_id_users_id_fk": {
          "name": "visit_histories_user_id_users_id_fk",
          "tableFrom": "visit_histories",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "visit_histories_temple_id_temples_id_fk": {
          "name": "visit_histories_temple_id_temples_id_fk",
          "tableFrom": "visit_histories",
          "tableTo": "temples",
          "columnsFrom": ["temple_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "visit_histories_select_public": {
          "name": "visit_histories_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "visit_histories_insert_own": {
          "name": "visit_histories_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "user_id = (select auth.uid())"
        },
        "visit_histories_update_own": {
          "name": "visit_histories_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())",
          "withCheck": "user_id = (select auth.uid())"
        },
        "visit_histories_delete_own": {
          "name": "visit_histories_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "user_id = (select auth.uid())"
        },
        "visit_histories_admin_all": {
          "name": "visit_histories_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    },
    "public.visit_photos": {
      "name": "visit_photos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "visit_history_id": {
          "name": "visit_history_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "image_url": {
          "name": "image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_goshuin_image": {
          "name": "is_goshuin_image",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "visit_photos_visit_history_id_visit_histories_id_fk": {
          "name": "visit_photos_visit_history_id_visit_histories_id_fk",
          "tableFrom": "visit_photos",
          "tableTo": "visit_histories",
          "columnsFrom": ["visit_history_id"],
          "columnsTo": ["id"],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {
        "visit_photos_select_public": {
          "name": "visit_photos_select_public",
          "as": "PERMISSIVE",
          "for": "SELECT",
          "to": ["public"],
          "using": "true"
        },
        "visit_photos_insert_own": {
          "name": "visit_photos_insert_own",
          "as": "PERMISSIVE",
          "for": "INSERT",
          "to": ["authenticated"],
          "withCheck": "EXISTS (SELECT 1 FROM visit_histories WHERE id = visit_history_id AND user_id = (select auth.uid()))"
        },
        "visit_photos_update_own": {
          "name": "visit_photos_update_own",
          "as": "PERMISSIVE",
          "for": "UPDATE",
          "to": ["authenticated"],
          "using": "EXISTS (SELECT 1 FROM visit_histories WHERE id = visit_history_id AND user_id = (select auth.uid()))",
          "withCheck": "EXISTS (SELECT 1 FROM visit_histories WHERE id = visit_history_id AND user_id = (select auth.uid()))"
        },
        "visit_photos_delete_own": {
          "name": "visit_photos_delete_own",
          "as": "PERMISSIVE",
          "for": "DELETE",
          "to": ["authenticated"],
          "using": "EXISTS (SELECT 1 FROM visit_histories WHERE id = visit_history_id AND user_id = (select auth.uid()))"
        },
        "visit_photos_admin_all": {
          "name": "visit_photos_admin_all",
          "as": "PERMISSIVE",
          "for": "ALL",
          "to": ["authenticated"],
          "using": "is_admin()",
          "withCheck": "is_admin()"
        }
      },
      "checkConstraints": {},
      "isRLSEnabled": true
    }
  },
  "enums": {
    "public.official_request_status": {
      "name": "official_request_status",
      "schema": "public",
      "values": ["pending", "rejected", "approved"]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": ["user", "official", "admin"]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
